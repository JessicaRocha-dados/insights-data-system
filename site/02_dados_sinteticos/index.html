
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../01_arquitetura/">
      
      
        <link rel="next" href="../03_lead_scoring/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Geração de Dados - Documentação do Projeto InsightOS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-geracao-de-dados-sinteticos" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabeçalho">
    <a href=".." title="Documentação do Projeto InsightOS" class="md-header__button md-logo" aria-label="Documentação do Projeto InsightOS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentação do Projeto InsightOS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Geração de Dados
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Pesquisar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpar" aria-label="Limpar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando a pesquisa
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Abas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Visão Geral

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../01_arquitetura/" class="md-tabs__link">
        
  
  
    
  
  Arquitetura

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Geração de Dados

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../03_lead_scoring/" class="md-tabs__link">
        
  
  
    
  
  Modelo: Lead Scoring

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../04_analise_ltv/" class="md-tabs__link">
        
  
  
    
  
  Modelo: Análise de LTV

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../05_automacao/" class="md-tabs__link">
        
  
  
    
  
  Automação (Produção)

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegação" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Documentação do Projeto InsightOS" class="md-nav__button md-logo" aria-label="Documentação do Projeto InsightOS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Documentação do Projeto InsightOS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visão Geral
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_arquitetura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arquitetura
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Geração de Dados
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Geração de Dados
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-justificativa" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Justificativa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-implementacao" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Implementação
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 Implementação">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-simulacao-do-funil-de-conversao-lead-scoring" class="md-nav__link">
    <span class="md-ellipsis">
      1. Simulação do Funil de Conversão (Lead Scoring)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Simulação do Funil de Conversão (Lead Scoring)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logica-de-transicao" class="md-nav__link">
    <span class="md-ellipsis">
      Lógica de Transição
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_lead_scoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modelo: Lead Scoring
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_analise_ltv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modelo: Análise de LTV
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../05_automacao/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Automação (Produção)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#31-justificativa" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Justificativa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#32-implementacao" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Implementação
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 Implementação">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-simulacao-do-funil-de-conversao-lead-scoring" class="md-nav__link">
    <span class="md-ellipsis">
      1. Simulação do Funil de Conversão (Lead Scoring)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Simulação do Funil de Conversão (Lead Scoring)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logica-de-transicao" class="md-nav__link">
    <span class="md-ellipsis">
      Lógica de Transição
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<blockquote>
<h1 id="3-geracao-de-dados-sinteticos">3. Geração de Dados Sintéticos</h1>
<h3 id="31-justificativa">3.1 Justificativa</h3>
<p>A geração de dados sintéticos foi uma decisão estratégica adotada na fase inicial do projeto. A principal razão foi a necessidade de criar um <em>ambiente de laboratório controlado</em>, que permitisse realizar testes rigorosos sem as limitações associadas aos dados do mundo real, como escassez ou excesso de ruídos. Essa abordagem possibilitou:
1. <em>Validar o Pipeline:</em> Garantir que o pipeline de ponta a ponta (coleta, API, banco de dados e visualização em BI) estava funcionando corretamente.<br />
2. <em>Criar Padrões Realistas:</em> Injetar intencionalmente padrões e correlações plausíveis nos dados. Por exemplo, simular que a campanha google_gestao_agil apresenta uma maior taxa de conversão.<br />
3. <em>Testar Modelos:</em> Construir um "quebra-cabeças" com uma solução previamente conhecida, para verificar se os modelos de machine learning (ML) e <em>Lifetime Value (LTV)</em> eram capazes de identificar os padrões incorporados.</p>
</blockquote>
<hr />
<blockquote>
<h3 id="32-implementacao">3.2 Implementação</h3>
<p>O processo de geração de dados foi elaborado no notebook 01_data_simulation.ipynb, utilizando as bibliotecas <em>pandas</em> para manipulação de DataFrames e <em>faker</em> para criar dados fictícios, mas com aparência real, como nomes e endereços de e-mail.</p>
</blockquote>
<h4 id="1-simulacao-do-funil-de-conversao-lead-scoring">1. Simulação do Funil de Conversão (Lead Scoring)</h4>
<p>A estratégia central foi a criação de um funil probabilístico, no qual eventos-chave dependiam de uma cascata de decisões baseadas em probabilidades condicionais. Essa abordagem permitiu modelar o comportamento de <em>usuários</em> de forma realista, em vez de utilizar eventos aleatórios.</p>
<blockquote>
<h5 id="logica-de-transicao">Lógica de Transição</h5>
<p>A lógica foi projetada para que a progressão de um <em>usuário</em> no funil fosse dependente de ações anteriores e de fatores contextuais, como a campanha de origem. Por exemplo:
* Um <em>usuário</em> só poderia criar um projeto após verificar seu e-mail.<br />
<em> A probabilidade de realizar a ação de criar um projeto era configurada como </em>condicional<em> à campanha de aquisição do </em>usuário<em>.<br />
</em> Isso permitiu representar o comportamento simulado de campanhas que atraem <em>usuários</em> mais qualificados.
O trecho de código abaixo ilustra essa lógica:</p>
</blockquote>
<p>python</p>
<h1 id="logica-de-simulacao-do-funil">Lógica de simulação do funil</h1>
<h1 id="probabilidade-de-criacao-de-projeto-depende-da-campanha-de-aquisicao">Probabilidade de criação de projeto depende da campanha de aquisição</h1>
<p>prob_create_project = 0.55 if user['acquisition_campaign'] == 'google_gestao_agil' else 0.30</p>
<h1 id="o-evento-so-ocorre-se-a-condicao-probabilistica-for-satisfeita">O evento só ocorre se a condição probabilística for satisfeita</h1>
<p>if random.random() &lt; prob_create_project:
    # Gera o evento 'project_created' no funil
    events.append(...) </p>
<pre><code># Lógica aninhada para a próxima etapa do funil (assinatura)
prob_subscribe = 0.40 if user['acquisition_campaign'] == 'google_gestao_agil' else 0.15
if random.random() &lt; prob_subscribe:
    events.append(...)
    # Atualiza o status do usuário na base de dados
    users_df.loc[users_df['user_id'] == user_id, 'status'] = 'converted'
</code></pre>
<hr />
<blockquote>
<h4 id="2-simulacao-de-transacoes-ltv">2. Simulação de Transações (LTV)</h4>
<p>Para a análise de <em>Lifetime Value (LTV)</em>, foi desenvolvido um segundo script que gerava um log de transações simuladas. Assim como na simulação do funil de conversão, os dados foram enviesados intencionalmente para refletir diferenças entre os clientes de diferentes campanhas. Destaques da configuração:
* <em>Maior probabilidade de recompra:</em> Clientes provenientes da campanha google_gestao_agil apresentaram maior chance de realizar compras recorrentes.<br />
<em> </em>Ciclo de compra mais curto:<em> Esses clientes realizaram compras em intervalos menores.<br />
</em> <em>Ticket médio superior:</em> Os valores monetários por transação foram configurados para serem maiores em comparação às demais campanhas.</p>
</blockquote>
<hr />
<blockquote>
<h3 id="33-avaliacao-da-qualidade-e-desafios">3.3 Avaliação da Qualidade e Desafios</h3>
<p>A qualidade dos dados foi validada com base na sua capacidade de serem inseridos corretamente no banco de dados e analisados posteriormente. Durante o processo de inserção, foram enfrentados e resolvidos alguns desafios técnicos:</p>
</blockquote>
<ol>
<li><strong>Duplicate key value... users_pkey:</strong><br />
   Esse erro ocorreu devido à tentativa de inserir registros duplicados na chave primária da tabela users. A solução foi limpar as tabelas antes de cada rodada de inserção para garantir que o ambiente de teste estivesse limpo e sem dados residuais.</li>
<li><strong>Duplicate key value... users_email_key:</strong><br />
   Esse problema ocorreu devido à geração de endereços de e-mail duplicados pela biblioteca <em>faker</em>. A solução foi implementar uma lógica de verificação, garantindo que nenhum e-mail repetido fosse gerado durante o processo de simulação.</li>
<li><em>Out of range float values...:</em><br />
   Esse problema foi causado pela incompatibilidade entre valores np.nan (gerados pelo Pandas) e o formato JSON requerido pelo banco de dados, que espera null. A solução envolveu converter os valores np.nan em None (nativo do Python), que é compatível com o formato null do PostgreSQL.</li>
</ol>
<p>A <em>validação final</em> dos dados foi realizada de forma visual por meio do Metabase. Um gráfico de funil (Figura 2) foi gerado para verificar se toda a lógica probabilística foi corretamente aplicada e armazenada na base de dados. A análise confirmou que os padrões simulados estavam sendo representados adequadamente.</p>
<p><img alt="Gráfico de Funil de Conversão validando os dados sintéticos" src="../img/115151.png" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Voltar ao topo
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "search.suggest"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "search.result.more.one": "Mais 1 nesta p\u00e1gina", "search.result.more.other": "Mais # nesta p\u00e1gina", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.placeholder": "Digite para iniciar a busca", "search.result.term.missing": "Ausente", "select.version": "Selecione a vers\u00e3o"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>